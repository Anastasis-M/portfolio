import{l as I,t as $,a as E}from"./DPlRoAQV.js";import{i as R}from"./MIUUx7Po.js";import{ac as T,k as U,F as V,D as F,T as W,M as j,p as k,s as p,m as w,g as c,t as z,a as C,ad as A,o as B,l as x,h as G,e as y,f as H,c as S,r as P,b as J}from"./DGYdY7XA.js";import{r as K,b as N,s as O}from"./DcheRQFA.js";import{b as L}from"./D6iV0V6o.js";import{p as d,a as Q,s as X}from"./z7ru08j4.js";import{C as Y}from"./DUEaYmzc.js";import{p as Z}from"./kAkwimM4.js";import{b as ee}from"./BX8M5irU.js";function ae(e,a,o=a){var n=T();I(e,"input",r=>{var s=r?e.defaultValue:e.value;if(s=h(e)?_(s):s,o(s),n&&s!==(s=a())){var t=e.selectionStart,l=e.selectionEnd;e.value=s??"",l!==null&&(e.selectionStart=t,e.selectionEnd=Math.min(l,e.value.length))}}),(U&&e.defaultValue!==e.value||V(a)==null&&e.value)&&o(h(e)?_(e.value):e.value),F(()=>{var r=a();h(e)&&r===_(e.value)||e.type==="date"&&!r&&!e.value||r!==e.value&&(e.value=r??"")})}function h(e){var a=e.type;return a==="number"||a==="range"}function _(e){return e===""?null:+e}function te(e,a,o){var n=W(e,a);n&&n.set&&(e[a]=o,j(()=>{e[a]=null}))}var re=$('<input class="text-[inherit] bg-transparent border-[1px] border-solid border-[var(--border)] px-[20px] py-[10px] rounded-[15px] flex-1 text-[1.15em]  svelte-c0g44u">');function se(e,a){k(a,!1);let o=d(a,"value",12,""),n=d(a,"placeholder",8,""),r=w();function s(){c(r).focus()}var t=re();return K(t),L(t,l=>p(r,l),()=>c(r)),z(()=>N(t,"placeholder",n())),ae(t,o),E(e,t),te(a,"focus",s),C({focus:s})}var le=$('<div class="w-100% row"><!></div> <div class="w-100% col flex-1"><!></div>',1);function he(e,a){k(a,!1);const[o,n]=Q(),r=()=>X(Z,"$page",o);let s=d(a,"title",8,"Title"),t=d(a,"search",12,""),l=w();const M=A();let f=w(!1);B(()=>{let i=new URLSearchParams(window.location.search);t(i.get("q")??""),p(f,!0)}),x(()=>y(t()),()=>{M("search",{search:t().trim().toLowerCase()})}),x(()=>(c(f),y(t()),r(),c(l)),()=>{if(c(f)){let i=new URLSearchParams(window.location.search);i.set("q",t());const g=`${window.location.protocol}//${window.location.host}${window.location.pathname}?${i.toString()}`,u=window.history.state;window.history.replaceState(u,"",g),r().url.pathname.startsWith(`${ee}/search`)&&c(l)&&c(l).focus()}}),G(),R(),Y(e,{get title(){return s()},children:(i,g)=>{var u=le(),v=H(u),q=S(v);L(se(q,{placeholder:"Search...",get value(){return t()},set value(m){t(m)},$$legacy:!0}),m=>p(l,m),()=>c(l)),P(v);var b=J(v,2),D=S(b);O(D,a,"default",{}),P(b),E(i,u)},$$slots:{default:!0}}),C(),n()}export{he as S};
